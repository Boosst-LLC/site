{{ $mode := .Get "mode" }}
{{ $media := .Get "media" }}
{{ if eq $mode "background" }}
  <section class="section-benefits section-benefits--bg" id="{{ .Get "id" | default "services" }}">
    <div class="benefits-hero">
      {{ if $media }}
        {{ $resource := resources.Get (printf "img/%s" $media) }}
        {{ if $resource }}
          <div class="benefits-bg">
            <div class="benefits-bg-overlay"></div>
            {{ if eq $resource.MediaType.MainType "image" }}
              {{ $desktop := $resource.Fill "1600x1100 center" }}
              {{ $mobile := $resource.Fill "900x900 center" }}
              <picture>
                <source media="(max-width: 767px)" srcset="{{ $mobile.RelPermalink }}">
                <img src="{{ $desktop.RelPermalink }}" width="{{ $desktop.Width }}" height="{{ $desktop.Height }}" alt="{{ .Get "media_alt" | default "Boosst services" }}">
              </picture>
            {{ else if eq $resource.MediaType.MainType "video" }}
              <video autoplay muted loop playsinline aria-label="{{ .Get "media_alt" | default "Boosst services" }}">
                <source src="{{ $resource.RelPermalink }}" type="{{ $resource.MediaType.String }}">
              </video>
            {{ end }}
          </div>
        {{ end }}
      {{ end }}
      <div class="benefits-hero-content">
        {{ with .Get "label" }}<span class="section-label">{{ . }}</span>{{ end }}
        {{ with .Get "heading" }}<h2>{{ . | safeHTML }}</h2>{{ end }}
      </div>
    </div>
    <div class="container">
      <div class="benefits-card">
        {{ with .Get "body" }}<p>{{ . }}</p>{{ end }}
        <div class="benefit-list">
          {{ .Inner }}
        </div>
      </div>
    </div>
  </section>
{{ else }}
  <section class="section-benefits" id="{{ .Get "id" | default "services" }}">
    <div class="container">
      <div class="benefits-copy">
        {{ with .Get "label" }}<span class="section-label">{{ . }}</span>{{ end }}
        {{ with .Get "heading" }}<h2>{{ . | safeHTML }}</h2>{{ end }}
        {{ with .Get "body" }}<p>{{ . }}</p>{{ end }}
        <div class="benefit-list">
          {{ .Inner }}
        </div>
      </div>
      <div class="benefits-media">
        {{ if $media }}
          {{ $resource := resources.Get (printf "img/%s" $media) }}
          {{ if $resource }}
            {{ if eq $resource.MediaType.MainType "image" }}
              {{ $desktop := $resource.Fill "1400x1000 center" }}
              {{ $mobile := $resource.Fill "900x700 center" }}
              <picture>
                <source media="(max-width: 767px)" srcset="{{ $mobile.RelPermalink }}">
                <img src="{{ $desktop.RelPermalink }}" width="{{ $desktop.Width }}" height="{{ $desktop.Height }}" alt="{{ .Get "media_alt" | default "Boosst services" }}" loading="lazy">
              </picture>
            {{ else if eq $resource.MediaType.MainType "video" }}
              <video autoplay muted loop playsinline controlslist="nodownload" aria-label="{{ .Get "media_alt" | default "Boosst video" }}">
                <source src="{{ $resource.RelPermalink }}" type="{{ $resource.MediaType.String }}">
              </video>
            {{ end }}
          {{ end }}
        {{ end }}
      </div>
    </div>
  </section>
{{ end }}
