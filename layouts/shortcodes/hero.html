<section class="hero" id="top">
  {{ $media := .Get "media" }}
  {{ if $media }}
    {{ $resource := resources.Get (printf "img/%s" $media) }}
    {{ if $resource }}
      <div class="hero-media-bg">
        <div class="hero-media-sheen"></div>
        {{ if eq $resource.MediaType.MainType "image" }}
          {{ $desktop := $resource.Fill "1600x900 center" }}
          {{ $mobile := $resource.Fill "900x1100 center" }}
          <picture>
            <source media="(max-width: 767px)" srcset="{{ $mobile.RelPermalink }}">
            <img src="{{ $desktop.RelPermalink }}" width="{{ $desktop.Width }}" height="{{ $desktop.Height }}" alt="{{ .Get "media_alt" | default "EV charging scene" }}">
          </picture>
        {{ else if eq $resource.MediaType.MainType "video" }}
          <video autoplay muted loop playsinline aria-label="{{ .Get "media_alt" | default "EV charging video" }}">
            <source src="{{ $resource.RelPermalink }}" type="{{ $resource.MediaType.String }}">
          </video>
        {{ end }}
      </div>
    {{ end }}
  {{ end }}
  <div class="container">
    {{ $primaryURL := .Get "primary_url" | default "#contact" }}
    {{ $secondaryURL := .Get "secondary_url" | default "#services" }}
    {{ $primaryHref := cond (hasPrefix $primaryURL "/") ($primaryURL | relURL) $primaryURL }}
    {{ $secondaryHref := cond (hasPrefix $secondaryURL "/") ($secondaryURL | relURL) $secondaryURL }}
    <div class="hero-card">
      {{ with .Get "eyebrow" }}<p class="hero-eyebrow">{{ . }}</p>{{ end }}
      {{ with .Get "title" }}<h1 class="hero-title">{{ . }}</h1>{{ end }}
      {{ with .Get "subtitle" }}<p class="hero-subtitle">{{ . }}</p>{{ end }}
      <div class="hero-actions">
        {{ with .Get "primary_label" }}
          <a class="btn btn-primary" href="{{ $primaryHref }}">{{ . }}</a>
        {{ end }}
        {{ with .Get "secondary_label" }}
          <a class="btn btn-ghost" href="{{ $secondaryHref }}">{{ . }}</a>
        {{ end }}
      </div>
    </div>
  </div>
</section>
